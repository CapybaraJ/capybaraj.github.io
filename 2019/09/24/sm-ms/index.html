<!-- build time:Fri Oct 04 2019 11:46:55 GMT+0800 (中国标准时间) --><!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>sm.ms图床测试及脚本测试 | Capybara&#39;s Blog~</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="这是一个demo实例；自己写了一个sm.ms图床和typora的上传https://sm.ms 你值得拥有"><meta name="keywords" content="hexo,markdown,图床"><meta property="og:type" content="article"><meta property="og:title" content="sm.ms图床测试及脚本测试"><meta property="og:url" content="http://yoursite.com/2019/09/24/sm-ms/index.html"><meta property="og:site_name" content="Capybara&#39;s Blog~"><meta property="og:description" content="这是一个demo实例；自己写了一个sm.ms图床和typora的上传https://sm.ms 你值得拥有"><meta property="og:locale" content="default"><meta property="og:image" content="https://i.loli.net/2019/09/24/5prJKd4LUA8XjsR.png"><meta property="og:image" content="https://i.loli.net/2019/09/24/seqS4O7og8nUHMK.png"><meta property="og:image" content="https://i.loli.net/2019/09/24/7lrj6SfKGpd8F1T.png"><meta property="og:image" content="https://avatar-static.segmentfault.com/231/346/2313469346-56d936a3aa49f_huge256"><meta property="og:image" content="https://i.loli.net/2019/09/24/dTjNFK7fbnBPhZX.png"><meta property="og:image" content="https://i.loli.net/2019/09/24/uFRjEn59MDahP7K.png"><meta property="og:image" content="https://i.loli.net/2019/09/24/6mowuGXqTUEarcJ.png"><meta property="og:updated_time" content="2019-10-03T06:02:58.932Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="sm.ms图床测试及脚本测试"><meta name="twitter:description" content="这是一个demo实例；自己写了一个sm.ms图床和typora的上传https://sm.ms 你值得拥有"><meta name="twitter:image" content="https://i.loli.net/2019/09/24/5prJKd4LUA8XjsR.png"><link rel="alternative" href="/atom.xml" title="Capybara&#39;s Blog~" type="application/atom+xml"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link herf="//fonts.googleapis.com/css?family=Source+Code+Pro&display=swap" rel="stylesheet" type="text/css"><!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]--></head></html><body><div id="container"><div id="wrap"><header id="header"><div id="banner"></div><div id="header-outer" class="outer"><nav id="upper-nav" class="inner"><a id="main-nav-toggle" class="nav-icon"></a><div class="sub-nav"><a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a> <a id="nav-github" class="nav-icon" href="https://github.com/capybaraj"></a></div></nav><div id="header-title"><h1 id="blog-title-wrap"><a href="/" id="blog-title">Capybara&#39;s Blog~</a></h1></div><div id="contenedor"><ul class="cube"><li class="cara"><img src="/img/cube/health.png" style="height:50%;width:50%;opacity:.8"></li><li class="cara"><img src="/img/cube/money.png" style="height:50%;width:50%;opacity:.8"></li><li class="cara"><img src="/img/cube/time.png" style="height:50%;width:50%;opacity:.8"></li><li class="cara"><img src="/img/cube/know.png" style="height:50%;width:50%;opacity:.8"></li><li class="cara"><img src="/img/cube/love.png" style="height:50%;width:50%;opacity:.8"></li><li class="cara"><img src="/img/cube/kind.png" style="height:50%;width:50%;opacity:.8"></li></ul></div><nav id="main-nav"><a class="main-nav-link" href="/">Home</a> <a class="main-nav-link" href="/archives">Archives</a> <a class="main-nav-link" href="/about">About</a> <a class="main-nav-link st-search-show-outputs">Search</a></nav></div></header><div class="outer"><section id="main"><article id="post-sm-ms" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><h3 href="/2019/09/24/sm-ms/" class="article-date"><time datetime="2019-09-24T04:52:58.000Z" itemprop="datePublished">2019-09-24</time></h3></div><div class="article-inner"><div class="curve-down"><div class="fill-content"><header class="article-header"><h1 class="article-title" itemprop="name">sm.ms图床测试及脚本测试</h1></header><div class="article-entry" itemprop="articleBody"><div id="toc" class="toc-article"><strong class="toc-title">Contents</strong><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#基础测试"><span class="toc-text">基础测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#错误测试"><span class="toc-text">错误测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#结果表"><span class="toc-text">结果表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#后续添加"><span class="toc-text">后续添加</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#错误处理"><span class="toc-text">错误处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#参数处理"><span class="toc-text">参数处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#图片压缩问题"><span class="toc-text">图片压缩问题</span></a></li></ol></li></ol></div><p>这是一个demo实例；自己写了一个sm.ms图床和typora的上传</p><p><a href="https://sm.ms" target="_blank" rel="noopener">https://sm.ms</a> 你值得拥有</p><a id="more"></a><p>其实iPic和很多sm.ms插件都可以，写这个主要是为了完美适配自己的需求吧，我的需求如下</p><ol><li><p>typora不单是写博客用，平时也经常用到，不想默认上传；</p></li><li><p>sm.ms图床的信息其实不太好收集，所以希望留下上传记录，包括hash和对应关系，方便删除</p></li><li><p>写的特别好的目前还没看到，就是包括操作，安装在内都比较漂亮的；我也在等待~</p></li></ol><h2 id="基础测试"><a href="#基础测试" class="headerlink" title="基础测试"></a>基础测试</h2><p>图片1：<code>&lt;img</code> 标签</p><img src="https://i.loli.net/2019/09/24/5prJKd4LUA8XjsR.png" alt="image-20190924125401753" style="zoom:50%"><p>我用了很多用例，来测试我的程序稳定性</p><p>图片2：<code>&lt;img src = &#39;&#39;类型</code></p><img src="https://i.loli.net/2019/09/24/seqS4O7og8nUHMK.png" alt="image-20190924125505620" style="zoom:50%"><p>图片3：常见类型</p><p><img src="https://i.loli.net/2019/09/24/7lrj6SfKGpd8F1T.png" alt="摩天大厦"></p><p>图片4：网络图片类型</p><p><img src="https://avatar-static.segmentfault.com/231/346/2313469346-56d936a3aa49f_huge256" alt="头像"></p><h2 id="错误测试"><a href="#错误测试" class="headerlink" title="错误测试"></a>错误测试</h2><p>测试1：在代码中的应该被忽略，但是如果和使用的图片同名这个我就很尴尬，没处理好233333</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![头像](https://avatar-static.segmentfault.com/231/346/2313469346-56d936a3aa49f_huge256)</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span> = <span class="string">'xxxxx.jpg'</span> <span class="attr">alt</span>=<span class="string">"images"</span> <span class="attr">style</span>=<span class="string">"zoom:50%;"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>并且对于<code>&lt;img src=&quot;xxxx&quot; /&gt;</code>这个没有处理好23333；考虑到\\`xxxx`这种情况还是蛮复杂的</p><p>你看它会解析到，但是由于找不到文件所以也没什么太大问题吧</p><p><img src="https://i.loli.net/2019/09/24/dTjNFK7fbnBPhZX.png" alt="image-20190924131707140"></p><h2 id="结果表"><a href="#结果表" class="headerlink" title="结果表"></a>结果表</h2><p>一行一行算</p><img src="https://i.loli.net/2019/09/24/uFRjEn59MDahP7K.png" alt="image-20190924131305167" style="zoom:100%"><p>单行数据表现如下；status表示已经在文档中处理完成了所有替换；</p><p><img src="https://i.loli.net/2019/09/24/6mowuGXqTUEarcJ.png" alt="单行数据示例"></p><h2 id="后续添加"><a href="#后续添加" class="headerlink" title="后续添加"></a>后续添加</h2><h3 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h3><p>关于key error导致程序停止</p><h3 id="参数处理"><a href="#参数处理" class="headerlink" title="参数处理"></a>参数处理</h3><p>关于如何更新token，更新recordFile</p><p>关于如何形式化参数</p><h3 id="图片压缩问题"><a href="#图片压缩问题" class="headerlink" title="图片压缩问题"></a>图片压缩问题</h3><p>图片压缩看看有没有接口，不然只能手动压缩了。。。</p><p>END</p></div><footer class="article-footer"><div class="article-footer-content"><h3 href="/2019/09/24/sm-ms/" class="article-updated">Updated&nbsp;:&nbsp;<time datetime="2019-10-03T06:02:58.932Z" itemprop="datePublished">2019-10-03</time></h3><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/">hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/markdown/">markdown</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/图床/">图床</a></li></ul><a data-url="http://yoursite.com/2019/09/24/sm-ms/" data-id="ck1bl7hjc0014d52omf3vocii" class="article-share-link">Share</a></div></footer></div></div></div><nav id="article-nav"><a href="/2019/09/28/changepaperbox2/" id="article-nav-newer" class="article-nav-link-wrap"><strong class="article-nav-caption">Newer</strong><div class="article-nav-title">Paperbox主题改造2-更新时间和标签美化</div></a><a href="/2019/09/16/php-no-agruments/" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">Older</strong><div class="article-nav-title">PHP 无参数函数执行</div></a></nav></article></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">Recents</h3><div class="widget"><ul><li><a href="/2019/10/04/changepaperbox4/">Paperbox主题改造4-404与按月归档</a></li><li><a href="/2019/09/30/changepaperbox3/">Paperbox主题改造3-字体美化与搜索框的添加</a></li><li><a href="/2019/09/28/changepaperbox2/">Paperbox主题改造2-更新时间和标签美化</a></li><li><a href="/2019/09/24/sm-ms/">sm.ms图床测试及脚本测试</a></li><li><a href="/2019/09/16/php-no-agruments/">PHP 无参数函数执行</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">Tags</h3><div class="widget"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ctf/">ctf</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ethereum/">ethereum</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/geth/">geth</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/">github</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go/">go</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/">php</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/py-evm/">py-evm</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图床/">图床</a><span class="tag-list-count">1</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">Archives</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a><span class="archive-list-count">10</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">Tag Cloud</h3><div class="widget tagcloud"><a href="/tags/ctf/" style="font-size:10px">ctf</a> <a href="/tags/ethereum/" style="font-size:17.5px">ethereum</a> <a href="/tags/geth/" style="font-size:10px">geth</a> <a href="/tags/github/" style="font-size:12.5px">github</a> <a href="/tags/go/" style="font-size:10px">go</a> <a href="/tags/hexo/" style="font-size:20px">hexo</a> <a href="/tags/markdown/" style="font-size:10px">markdown</a> <a href="/tags/php/" style="font-size:10px">php</a> <a href="/tags/py-evm/" style="font-size:15px">py-evm</a> <a href="/tags/web/" style="font-size:10px">web</a> <a href="/tags/图床/" style="font-size:10px">图床</a></div></div></aside></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">&copy; 2019 CapybaraJ<br>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> . Theme by <a href="https://github.com/sun11/hexo-theme-paperbox" target="_blank">Paperbox</a></div></div></footer></div><nav id="mobile-nav"><a href="/" class="mobile-nav-link">Home</a> <a href="/archives" class="mobile-nav-link">Archives</a> <a href="/about" class="mobile-nav-link">About</a> <a href="#search" class="mobile-nav-link st-search-show-outputs">Search</a></nav><div id="totop"><a title="To Top"></a></div><script type="text/javascript">!function(t,e,n,s,c,a,i){t.SwiftypeObject=c,t[c]=t[c]||function(){(t[c].q=t[c].q||[]).push(arguments)},a=e.createElement(n),i=e.getElementsByTagName(n)[0],a.async=1,a.src=s,i.parentNode.insertBefore(a,i)}(window,document,"script","//s.swiftypecdn.com/install/v2/st.js","_st"),_st("install","1hQDjjh-YKH5E9-N3KaS","2.0.0")</script><script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/lrsjng.jquery-qrcode/0.12.0/jquery.qrcode.min.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css"><script src="/fancybox/jquery.fancybox.pack.js"></script><script src="/js/script.js"></script></div></body><!-- rebuild by neat -->